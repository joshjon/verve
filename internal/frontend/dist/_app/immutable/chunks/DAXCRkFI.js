import{z as E,A as Z,B as m,C as J,D as I,E as D,F as w,G as Q,H as V,I as W,J as Y,K,M as U,N as X,O as k,P as ee,Q as se,R as re,S as N,T as ne,U as te,b as F,V as ie,W as O,X as ae,o as fe,Y as M,q as ue,Z as ce,_ as oe,g as v,m as C,$ as g,a0 as le,a1 as $,a2 as de,a3 as pe,a4 as R,a5 as he,a6 as _e,a7 as ve,a8 as be,a9 as Se,h as we,aa as Pe,ab as me,ac as ge,ad as y,ae as L,af as _,L as j}from"./DglTcHX2.js";class q{anchor;#s=new Map;#r=new Map;#e=new Map;#n=new Set;#t=!0;constructor(s,n=!0){this.anchor=s,this.#t=n}#i=()=>{var s=E;if(this.#s.has(s)){var n=this.#s.get(s),r=this.#r.get(n);if(r)Z(r),this.#n.delete(n);else{var t=this.#e.get(n);t&&(this.#r.set(n,t.effect),this.#e.delete(n),t.fragment.lastChild.remove(),this.anchor.before(t.fragment),r=t.effect)}for(const[i,f]of this.#s){if(this.#s.delete(i),i===s)break;const a=this.#e.get(f);a&&(m(a.effect),this.#e.delete(f))}for(const[i,f]of this.#r){if(i===n||this.#n.has(i))continue;const a=()=>{if(Array.from(this.#s.values()).includes(i)){var o=document.createDocumentFragment();V(f,o),o.append(I()),this.#e.set(i,{effect:f,fragment:o})}else m(f);this.#n.delete(i),this.#r.delete(i)};this.#t||!r?(this.#n.add(i),J(f,a,!1)):a()}}};#a=s=>{this.#s.delete(s);const n=Array.from(this.#s.values());for(const[r,t]of this.#e)n.includes(r)||(m(t.effect),this.#e.delete(r))};ensure(s,n){var r=E,t=W();if(n&&!this.#r.has(s)&&!this.#e.has(s))if(t){var i=document.createDocumentFragment(),f=I();i.append(f),this.#e.set(s,{effect:D(()=>n(f)),fragment:i})}else this.#r.set(s,D(()=>n(this.anchor)));if(this.#s.set(r,s),t){for(const[a,u]of this.#r)a===s?r.unskip_effect(u):r.skip_effect(u);for(const[a,u]of this.#e)a===s?r.unskip_effect(u.effect):r.skip_effect(u.effect);r.oncommit(this.#i),r.ondiscard(this.#a)}else w&&(this.anchor=Q),this.#i()}}function Ie(e,s,n=!1){w&&K();var r=new q(e),t=n?U:0;function i(f,a){if(w){const l=X(e);var u;if(l===k?u=0:l===ee?u=!1:u=parseInt(l.substring(1)),f!==u){var o=se();re(o),r.anchor=o,N(!1),r.ensure(f,a),N(!0);return}}r.ensure(f,a)}Y(()=>{var f=!1;s((a,u=0)=>{f=!0,i(u,a)}),f||i(!1,null)},t)}function De(e,s,n){w&&K();var r=new q(e);Y(()=>{var t=s()??null;r.ensure(t,t&&(i=>n(i,t)))},U)}function B(e,s){return e===s||e?.[O]===s}function Ne(e={},s,n,r){return ne(()=>{var t,i;return te(()=>{t=i,i=[],F(()=>{e!==n(...i)&&(s(e,...i),t&&B(n(...t),e)&&s(null,...t))})}),()=>{ie(()=>{i&&B(n(...i),e)&&s(null,...i)})}}),e}let S=!1,x=Symbol();function Me(e,s,n){const r=n[s]??={store:null,source:ue(void 0),unsubscribe:M};if(r.store!==e&&!(x in n))if(r.unsubscribe(),r.store=e??null,e==null)r.source.v=void 0,r.unsubscribe=M;else{var t=!0;r.unsubscribe=ce(e,i=>{t?r.source.v=i:C(r.source,i)}),t=!1}return e&&x in n?oe(e):v(r.source)}function ye(){const e={};function s(){ae(()=>{for(var n in e)e[n].unsubscribe();fe(e,x,{enumerable:!1,value:!0})})}return[e,s]}function xe(e){var s=S;try{return S=!1,[e(),S]}finally{S=s}}const Oe={get(e,s){if(!e.exclude.includes(s))return e.props[s]},set(e,s){return!1},getOwnPropertyDescriptor(e,s){if(!e.exclude.includes(s)&&s in e.props)return{enumerable:!0,configurable:!0,value:e.props[s]}},has(e,s){return e.exclude.includes(s)?!1:s in e.props},ownKeys(e){return Reflect.ownKeys(e.props).filter(s=>!e.exclude.includes(s))}};function Le(e,s,n){return new Proxy({props:e,exclude:s},Oe)}const Re={get(e,s){if(!e.exclude.includes(s))return v(e.version),s in e.special?e.special[s]():e.props[s]},set(e,s,n){if(!(s in e.special)){var r=R;try{L(e.parent_effect),e.special[s]=Ae({get[s](){return e.props[s]}},s,$)}finally{L(r)}}return e.special[s](n),y(e.version),!0},getOwnPropertyDescriptor(e,s){if(!e.exclude.includes(s)&&s in e.props)return{enumerable:!0,configurable:!0,value:e.props[s]}},deleteProperty(e,s){return e.exclude.includes(s)||(e.exclude.push(s),y(e.version)),!0},has(e,s){return e.exclude.includes(s)?!1:s in e.props},ownKeys(e){return Reflect.ownKeys(e.props).filter(s=>!e.exclude.includes(s))}};function Be(e,s){return new Proxy({props:e,exclude:s,special:{},version:me(0),parent_effect:R},Re)}const Te={get(e,s){let n=e.props.length;for(;n--;){let r=e.props[n];if(_(r)&&(r=r()),typeof r=="object"&&r!==null&&s in r)return r[s]}},set(e,s,n){let r=e.props.length;for(;r--;){let t=e.props[r];_(t)&&(t=t());const i=g(t,s);if(i&&i.set)return i.set(n),!0}return!1},getOwnPropertyDescriptor(e,s){let n=e.props.length;for(;n--;){let r=e.props[n];if(_(r)&&(r=r()),typeof r=="object"&&r!==null&&s in r){const t=g(r,s);return t&&!t.configurable&&(t.configurable=!0),t}}},has(e,s){if(s===O||s===j)return!1;for(let n of e.props)if(_(n)&&(n=n()),n!=null&&s in n)return!0;return!1},ownKeys(e){const s=[];for(let n of e.props)if(_(n)&&(n=n()),!!n){for(const r in n)s.includes(r)||s.push(r);for(const r of Object.getOwnPropertySymbols(n))s.includes(r)||s.push(r)}return s}};function Ye(...e){return new Proxy({props:e},Te)}function Ae(e,s,n,r){var t=!ve||(n&be)!==0,i=(n&_e)!==0,f=(n&ge)!==0,a=r,u=!0,o=()=>(u&&(u=!1,a=f?F(r):r),a),l;if(i){var H=O in e||j in e;l=g(e,s)?.set??(H&&s in e?c=>e[s]=c:void 0)}var p,T=!1;i?[p,T]=xe(()=>e[s]):p=e[s],p===void 0&&r!==void 0&&(p=o(),l&&(t&&le(),l(p)));var d;if(t?d=()=>{var c=e[s];return c===void 0?o():(u=!0,c)}:d=()=>{var c=e[s];return c!==void 0&&(a=void 0),c===void 0?a:c},t&&(n&$)===0)return d;if(l){var z=e.$$legacy;return(function(c,b){return arguments.length>0?((!t||!b||z||T)&&l(b?d():c),c):d()})}var P=!1,h=((n&Se)!==0?we:Pe)(()=>(P=!1,d()));i&&v(h);var G=R;return(function(c,b){if(arguments.length>0){const A=b?v(h):t&&i?de(c):c;return C(h,A),P=!0,a!==void 0&&(a=A),c}return pe&&P||(G.f&he)!==0?h.v:v(h)})}export{q as B,ye as a,Ne as b,De as c,Me as d,Ie as i,Be as l,Ae as p,Le as r,Ye as s};
