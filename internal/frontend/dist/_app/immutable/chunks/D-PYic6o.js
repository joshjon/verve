import{z as A,A as Z,B as m,C as J,D as T,E as D,F as P,G as Q,H as V,I as W,J as K,K as U,M as Y,N as X,O as k,P as ee,Q as re,R as I,S as se,T as te,b as F,U as ne,V as y,W as ie,o as ae,X as M,q as fe,Y as ue,Z as ce,g as v,m as C,_ as g,$ as oe,a0 as $,a1 as le,a2 as de,a3 as O,a4 as pe,a5 as he,a6 as _e,a7 as ve,a8 as be,h as we,a9 as Pe,aa as Se,ab as me,ac as N,ad as L,ae as _,L as j}from"./CZBXD-dv.js";class q{anchor;#r=new Map;#s=new Map;#e=new Map;#t=new Set;#n=!0;constructor(r,t=!0){this.anchor=r,this.#n=t}#i=()=>{var r=A;if(this.#r.has(r)){var t=this.#r.get(r),s=this.#s.get(t);if(s)Z(s),this.#t.delete(t);else{var n=this.#e.get(t);n&&(this.#s.set(t,n.effect),this.#e.delete(t),n.fragment.lastChild.remove(),this.anchor.before(n.fragment),s=n.effect)}for(const[i,f]of this.#r){if(this.#r.delete(i),i===r)break;const a=this.#e.get(f);a&&(m(a.effect),this.#e.delete(f))}for(const[i,f]of this.#s){if(i===t||this.#t.has(i))continue;const a=()=>{if(Array.from(this.#r.values()).includes(i)){var o=document.createDocumentFragment();V(f,o),o.append(T()),this.#e.set(i,{effect:f,fragment:o})}else m(f);this.#t.delete(i),this.#s.delete(i)};this.#n||!s?(this.#t.add(i),J(f,a,!1)):a()}}};#a=r=>{this.#r.delete(r);const t=Array.from(this.#r.values());for(const[s,n]of this.#e)t.includes(s)||(m(n.effect),this.#e.delete(s))};ensure(r,t){var s=A,n=W();if(t&&!this.#s.has(r)&&!this.#e.has(r))if(n){var i=document.createDocumentFragment(),f=T();i.append(f),this.#e.set(r,{effect:D(()=>t(f)),fragment:i})}else this.#s.set(r,D(()=>t(this.anchor)));if(this.#r.set(s,r),n){for(const[a,u]of this.#s)a===r?s.unskip_effect(u):s.skip_effect(u);for(const[a,u]of this.#e)a===r?s.unskip_effect(u.effect):s.skip_effect(u.effect);s.oncommit(this.#i),s.ondiscard(this.#a)}else P&&(this.anchor=Q),this.#i()}}function Ae(e,r,t=!1){P&&U();var s=new q(e),n=t?Y:0;function i(f,a){if(P){const o=X(e)===k;if(f===o){var u=ee();re(u),s.anchor=u,I(!1),s.ensure(f,a),I(!0);return}}s.ensure(f,a)}K(()=>{var f=!1;r((a,u=!0)=>{f=!0,i(u,a)}),f||i(!1,null)},n)}function Te(e,r,t){P&&U();var s=new q(e);K(()=>{var n=r()??null;s.ensure(n,n&&(i=>t(i,n)))},Y)}function B(e,r){return e===r||e?.[y]===r}function De(e={},r,t,s){return se(()=>{var n,i;return te(()=>{n=i,i=[],F(()=>{e!==t(...i)&&(r(e,...i),n&&B(t(...n),e)&&r(null,...n))})}),()=>{ne(()=>{i&&B(t(...i),e)&&r(null,...i)})}}),e}let w=!1,x=Symbol();function Ie(e,r,t){const s=t[r]??={store:null,source:fe(void 0),unsubscribe:M};if(s.store!==e&&!(x in t))if(s.unsubscribe(),s.store=e??null,e==null)s.source.v=void 0,s.unsubscribe=M;else{var n=!0;s.unsubscribe=ue(e,i=>{n?s.source.v=i:C(s.source,i)}),n=!1}return e&&x in t?ce(e):v(s.source)}function Me(){const e={};function r(){ie(()=>{for(var t in e)e[t].unsubscribe();ae(e,x,{enumerable:!1,value:!0})})}return[e,r]}function ge(e){var r=w;try{return w=!1,[e(),w]}finally{w=r}}const xe={get(e,r){if(!e.exclude.includes(r))return e.props[r]},set(e,r){return!1},getOwnPropertyDescriptor(e,r){if(!e.exclude.includes(r)&&r in e.props)return{enumerable:!0,configurable:!0,value:e.props[r]}},has(e,r){return e.exclude.includes(r)?!1:r in e.props},ownKeys(e){return Reflect.ownKeys(e.props).filter(r=>!e.exclude.includes(r))}};function Ne(e,r,t){return new Proxy({props:e,exclude:r},xe)}const ye={get(e,r){if(!e.exclude.includes(r))return v(e.version),r in e.special?e.special[r]():e.props[r]},set(e,r,t){if(!(r in e.special)){var s=O;try{L(e.parent_effect),e.special[r]=Ee({get[r](){return e.props[r]}},r,$)}finally{L(s)}}return e.special[r](t),N(e.version),!0},getOwnPropertyDescriptor(e,r){if(!e.exclude.includes(r)&&r in e.props)return{enumerable:!0,configurable:!0,value:e.props[r]}},deleteProperty(e,r){return e.exclude.includes(r)||(e.exclude.push(r),N(e.version)),!0},has(e,r){return e.exclude.includes(r)?!1:r in e.props},ownKeys(e){return Reflect.ownKeys(e.props).filter(r=>!e.exclude.includes(r))}};function Le(e,r){return new Proxy({props:e,exclude:r,special:{},version:Se(0),parent_effect:O},ye)}const Oe={get(e,r){let t=e.props.length;for(;t--;){let s=e.props[t];if(_(s)&&(s=s()),typeof s=="object"&&s!==null&&r in s)return s[r]}},set(e,r,t){let s=e.props.length;for(;s--;){let n=e.props[s];_(n)&&(n=n());const i=g(n,r);if(i&&i.set)return i.set(t),!0}return!1},getOwnPropertyDescriptor(e,r){let t=e.props.length;for(;t--;){let s=e.props[t];if(_(s)&&(s=s()),typeof s=="object"&&s!==null&&r in s){const n=g(s,r);return n&&!n.configurable&&(n.configurable=!0),n}}},has(e,r){if(r===y||r===j)return!1;for(let t of e.props)if(_(t)&&(t=t()),t!=null&&r in t)return!0;return!1},ownKeys(e){const r=[];for(let t of e.props)if(_(t)&&(t=t()),!!t){for(const s in t)r.includes(s)||r.push(s);for(const s of Object.getOwnPropertySymbols(t))r.includes(s)||r.push(s)}return r}};function Be(...e){return new Proxy({props:e},Oe)}function Ee(e,r,t,s){var n=!_e||(t&ve)!==0,i=(t&he)!==0,f=(t&me)!==0,a=s,u=!0,o=()=>(u&&(u=!1,a=f?F(s):s),a),d;if(i){var z=y in e||j in e;d=g(e,r)?.set??(z&&r in e?c=>e[r]=c:void 0)}var p,E=!1;i?[p,E]=ge(()=>e[r]):p=e[r],p===void 0&&s!==void 0&&(p=o(),d&&(n&&oe(),d(p)));var l;if(n?l=()=>{var c=e[r];return c===void 0?o():(u=!0,c)}:l=()=>{var c=e[r];return c!==void 0&&(a=void 0),c===void 0?a:c},n&&(t&$)===0)return l;if(d){var G=e.$$legacy;return(function(c,b){return arguments.length>0?((!n||!b||G||E)&&d(b?l():c),c):l()})}var S=!1,h=((t&be)!==0?we:Pe)(()=>(S=!1,l()));i&&v(h);var H=O;return(function(c,b){if(arguments.length>0){const R=b?v(h):n&&i?le(c):c;return C(h,R),S=!0,a!==void 0&&(a=R),c}return de&&S||(H.f&pe)!==0?h.v:v(h)})}export{q as B,Me as a,De as b,Te as c,Ie as d,Ae as i,Le as l,Ee as p,Ne as r,Be as s};
