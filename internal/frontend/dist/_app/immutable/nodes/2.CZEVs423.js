import{c as ee,a as n,d as Ke,s as B,f as v,t as qe,e as pt}from"../chunks/_1hIveIM.js";import{i as $,x as O,a3 as Ve,g as e,m as i,p as Te,k as r,l as a,s,t as L,j as Pe,y as W,af as j,ag as Oe,ah as gt,a as mt}from"../chunks/D1CvOZpc.js";import{l as Ae,s as Ee,c as Z,i as S,p as _t}from"../chunks/B_d95KGX.js";import{I as je,s as Fe,a as ke,b as xt,e as $e,c as Ue,r as Je,B as Ce,L as ht,d as ye,X as He,i as We,C as bt,f as Le}from"../chunks/BfraUdI8.js";import{D as kt,a as yt,b as wt,c as $t,S as Qe,d as Ct,e as Tt,r as we,P as Pt,G as St}from"../chunks/Cs5_ZDxL.js";import{C as Ye,R as Ze,T as Dt,L as Ie,D as et,G as Rt,a as Nt,b as Bt,c as Lt,d as It,E as At,P as Et,e as jt,F as Ft,f as Mt,B as zt}from"../chunks/_yWDvAtK.js";import{g as Gt}from"../chunks/D0DtLX18.js";import"../chunks/CtOyDHNH.js";function qt(G,t){const m=Ae(t,["children","$$slots","$$events","$$legacy"]);const u=[["circle",{cx:"12",cy:"12",r:"10"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16"}]];je(G,Ee({name:"circle-alert"},()=>m,{get iconNode(){return u},children:(g,x)=>{var d=ee(),k=$(d);Fe(k,t,"default",{}),n(g,d)},$$slots:{default:!0}}))}function Ot(G,t){const m=Ae(t,["children","$$slots","$$events","$$legacy"]);const u=[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"m9 12 2 2 4-4"}]];je(G,Ee({name:"circle-check"},()=>m,{get iconNode(){return u},children:(g,x)=>{var d=ee(),k=$(d);Fe(k,t,"default",{}),n(g,d)},$$slots:{default:!0}}))}function Xe(G,t){const m=Ae(t,["children","$$slots","$$events","$$legacy"]);const u=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z"}],["path",{d:"M20 2v4"}],["path",{d:"M22 4h-4"}],["circle",{cx:"4",cy:"20",r:"2"}]];je(G,Ee({name:"sparkles"},()=>m,{get iconNode(){return u},children:(g,x)=>{var d=ee(),k=$(d);Fe(k,t,"default",{}),n(g,d)},$$slots:{default:!0}}))}const Ut=["pending","running","review","merged","closed","failed"];class Jt{#e=O(Ve([]));get tasks(){return e(this.#e)}set tasks(t){i(this.#e,t,!0)}#t=O(!1);get loading(){return e(this.#t)}set loading(t){i(this.#t,t,!0)}#a=O(null);get error(){return e(this.#a)}set error(t){i(this.#a,t,!0)}get tasksByStatus(){const t={pending:[],running:[],review:[],merged:[],closed:[],failed:[]};for(const m of this.tasks)t[m.status]&&t[m.status].push(m);return t}get statuses(){return Ut}setTasks(t){this.tasks=t}addTask(t){this.tasks=[...this.tasks,t]}updateTask(t){const m=this.tasks.findIndex(u=>u.id===t.id);m>=0?(t.logs==null&&(t={...t,logs:this.tasks[m].logs}),this.tasks[m]=t):this.tasks=[...this.tasks,t]}clear(){this.tasks=[],this.error=null}}const N=new Jt;var Ht=v('<span class="text-[10px] text-amber-600 dark:text-amber-400 flex items-center gap-0.5"><!> </span>'),Qt=v('<span class="text-[10px] text-red-600 dark:text-red-400 flex items-center gap-0.5"><!></span>'),Xt=v('<span class="text-[10px] text-muted-foreground flex items-center gap-0.5" title="Has dependencies"><!> </span>'),Kt=v('<span class="text-[10px] text-muted-foreground flex items-center gap-0.5"><!> </span>'),Vt=v('<a class="inline-flex items-center gap-1 text-xs text-primary hover:underline mt-2" target="_blank" rel="noopener noreferrer"><!> </a>'),Wt=v('<div class="flex items-start justify-between gap-2"><p class="font-medium text-sm line-clamp-2 flex-1"> </p> <!></div> <div class="flex items-center gap-2 mt-2"><span class="text-[10px] text-muted-foreground font-mono bg-muted px-1.5 py-0.5 rounded"> </span> <!> <!> <!> <!></div> <!>',1);function Yt(G,t){Te(t,!0);function m(){Gt(`/tasks/${t.task.id}`)}function u(R){R.stopPropagation()}const g=W(()=>t.task.depends_on&&t.task.depends_on.length>0),x=W(()=>xt(t.task.description));var d=ee(),k=$(d);Z(k,()=>Nt,(R,J)=>{J(R,{class:"group p-3 cursor-pointer bg-card shadow-sm hover:bg-accent/50 hover:border-accent transition-all duration-200 hover:shadow-md",onclick:m,role:"button",tabindex:"0",children:(q,te)=>{var Q=Wt(),K=$(Q),Y=r(K),se=r(Y,!0);a(Y);var I=s(Y,2);Ye(I,{class:"w-4 h-4 text-muted-foreground opacity-0 group-hover:opacity-100 transition-opacity flex-shrink-0 mt-0.5"}),a(K);var F=s(K,2),o=r(F),f=r(o,!0);a(o);var y=s(o,2);{var H=_=>{var c=Ht(),C=r(c);Ze(C,{class:"w-3 h-3"});var p=s(C);a(c),L(()=>{ke(c,"title",`Retry attempt ${t.task.attempt??""} of ${t.task.max_attempts??""}`),B(p,` #${t.task.attempt??""}`)}),n(_,c)};S(y,_=>{t.task.attempt>1&&_(H)})}var ae=s(y,2);{var pe=_=>{var c=Qt(),C=r(c);Dt(C,{class:"w-3 h-3"}),a(c),L(()=>ke(c,"title",`${t.task.consecutive_failures??""} consecutive failures`)),n(_,c)};S(ae,_=>{t.task.consecutive_failures>=2&&_(pe)})}var ie=s(ae,2);{var de=_=>{var c=Xt(),C=r(c);Ie(C,{class:"w-3 h-3"});var p=s(C);a(c),L(()=>B(p,` ${t.task.depends_on?.length??""}`)),n(_,c)};S(ie,_=>{e(g)&&_(de)})}var ce=s(ie,2);{var xe=_=>{var c=Kt(),C=r(c);et(C,{class:"w-3 h-3"});var p=s(C);a(c),L((T,h)=>{ke(c,"title",`Cost: $${T??""}`),B(p,` ${h??""}`)},[()=>t.task.cost_usd.toFixed(2),()=>t.task.cost_usd.toFixed(2)]),n(_,c)};S(ce,_=>{t.task.cost_usd>0&&_(xe)})}a(F);var ne=s(F,2);{var ve=_=>{var c=Vt();c.__click=u;var C=r(c);Rt(C,{class:"w-3 h-3"});var p=s(C);a(c),L(()=>{ke(c,"href",t.task.pull_request_url),B(p,` PR #${t.task.pr_number??""}`)}),n(_,c)};S(ne,_=>{t.task.pull_request_url&&_(ve)})}L(()=>{B(se,e(x)),B(f,t.task.id)}),n(q,Q)},$$slots:{default:!0}})}),n(G,d),Pe()}Ke(["click"]);var Zt=v('<div class="flex flex-col items-center justify-center py-8 text-muted-foreground"><!> <p class="text-sm">No tasks</p></div>'),ea=v('<div class="rounded-xl border bg-muted/50 min-h-[500px] flex flex-col overflow-hidden"><div><!> <span> </span> <span class="ml-auto inline-flex items-center justify-center w-5 h-5 rounded-full bg-background text-xs font-medium"> </span></div> <div class="space-y-2 flex-1 overflow-y-auto p-2"><!> <!></div></div>');function ta(G,t){Te(t,!0);const m={pending:{label:"Pending",icon:jt,headerBg:"bg-amber-500/10",iconClass:"text-amber-600 dark:text-amber-400"},running:{label:"Running",icon:Et,headerBg:"bg-blue-500/10",iconClass:"text-blue-600 dark:text-blue-400"},review:{label:"In Review",icon:At,headerBg:"bg-purple-500/10",iconClass:"text-purple-600 dark:text-purple-400"},merged:{label:"Merged",icon:It,headerBg:"bg-green-500/10",iconClass:"text-green-600 dark:text-green-400"},closed:{label:"Closed",icon:Lt,headerBg:"bg-gray-500/10",iconClass:"text-gray-600 dark:text-gray-400"},failed:{label:"Failed",icon:Bt,headerBg:"bg-red-500/10",iconClass:"text-red-600 dark:text-red-400"}},u=W(()=>m[t.status]),g=W(()=>e(u).icon);var x=ea(),d=r(x),k=r(d);Z(k,()=>e(g),(I,F)=>{F(I,{get class(){return`w-4 h-4 ${e(u).iconClass??""}`}})});var R=s(k,2),J=r(R,!0);a(R);var q=s(R,2),te=r(q,!0);a(q),a(d);var Q=s(d,2),K=r(Q);$e(K,17,()=>t.tasks,I=>I.id,(I,F)=>{Yt(I,{get task(){return e(F)}})});var Y=s(K,2);{var se=I=>{var F=Zt(),o=r(F);Z(o,()=>e(g),(f,y)=>{y(f,{class:"w-8 h-8 opacity-20 mb-2"})}),j(2),a(F),n(I,F)};S(Y,I=>{t.tasks.length===0&&I(se)})}a(Q),a(x),L(()=>{Ue(d,1,`flex items-center gap-2 px-3 py-2.5 ${e(u).headerBg??""} border-b`),Ue(R,1,`font-medium text-sm ${e(u).iconClass??""}`),B(J,e(u).label),B(te,t.tasks.length)}),n(G,x),Pe()}var aa=v('<div class="w-8 h-8 rounded-lg bg-primary/10 flex items-center justify-center"><!></div> Create New Task',1),ra=v("<!> <!>",1),sa=v('<span class="font-mono text-xs truncate"> </span> <button type="button" class="ml-1 hover:bg-destructive/20 hover:text-destructive rounded p-0.5 transition-colors shrink-0"><!></button>',1),na=v('<div class="flex flex-wrap gap-1.5 mb-3 max-h-20 overflow-y-auto"></div>'),oa=v('<button type="button" class="w-full text-left px-3 py-2.5 hover:bg-accent cursor-pointer border-b last:border-b-0 transition-colors overflow-hidden"><div class="flex items-center gap-2"><span class="font-mono text-xs text-muted-foreground bg-background px-1.5 py-0.5 rounded shrink-0"> </span></div> <div class="text-sm line-clamp-2 mt-1"> </div></button>'),la=v('<div class="p-4 text-sm text-muted-foreground text-center"><!> No matching tasks found</div>'),ia=v('<div class="p-4 text-sm text-muted-foreground text-center"><!> No tasks available as dependencies</div>'),da=v('<div class="mt-3 space-y-4 pl-1"><div><label for="max-cost" class="text-sm font-medium mb-2 flex items-center gap-2"><!> Max Cost (USD) <span class="text-xs text-muted-foreground font-normal">(optional)</span></label> <input id="max-cost" type="number" step="0.01" min="0" class="w-full border rounded-lg p-2 bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-ring transition-shadow text-sm" placeholder="e.g., 5.00"/></div></div>'),ca=v('<div class="bg-destructive/10 text-destructive text-sm p-3 rounded-lg flex items-center gap-2"><!> </div>'),va=v("<!> Creating...",1),ua=v("<!> Create Task",1),fa=v("<!> <!>",1),pa=v('<!> <form><div class="py-4 space-y-5"><div><label for="description" class="text-sm font-medium mb-2 flex items-center gap-2"><!> Description</label> <textarea id="description" class="w-full border rounded-lg p-3 min-h-[120px] bg-background text-foreground resize-none focus:outline-none focus:ring-2 focus:ring-ring transition-shadow" placeholder="e.g., Add a function that calculates the Fibonacci sequence and include unit tests..."></textarea></div> <div><label for="acceptance-criteria" class="text-sm font-medium mb-2 flex items-center gap-2"><!> Acceptance Criteria <span class="text-xs text-muted-foreground font-normal">(optional)</span></label> <textarea id="acceptance-criteria" class="w-full border rounded-lg p-3 min-h-[80px] bg-background text-foreground resize-none focus:outline-none focus:ring-2 focus:ring-ring transition-shadow text-sm" placeholder="e.g., All tests pass, No linting errors, Function handles edge cases..."></textarea></div> <div><label for="dep-search" class="text-sm font-medium mb-2 flex items-center gap-2"><!> Dependencies <span class="text-xs text-muted-foreground font-normal">(optional)</span></label> <!> <div class="relative"><!> <input id="dep-search" type="text" class="w-full border rounded-lg pl-9 pr-3 py-2 bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-ring transition-shadow" placeholder="Search tasks to add as dependency..." autocomplete="off"/></div> <div class="mt-2 border rounded-lg max-h-36 overflow-y-auto bg-muted/20"><!></div></div> <div><button type="button" class="flex items-center gap-1.5 text-sm text-muted-foreground hover:text-foreground transition-colors"><!> Advanced Options</button> <!></div> <!></div> <!></form>',1);function ga(G,t){Te(t,!0);let m=_t(t,"open",15,!1),u=O(""),g=O(!1),x=O(null),d=O(Ve([])),k=O(""),R=O(""),J=O(void 0),q=O(!1);const te=W(()=>N.tasks.filter(o=>!["closed","failed"].includes(o.status)&&!e(d).includes(o.id)&&(e(k)===""||o.id.toLowerCase().includes(e(k).toLowerCase())||o.description.toLowerCase().includes(e(k).toLowerCase()))));async function Q(o){if(o.preventDefault(),!!e(u).trim()){i(g,!0),i(x,null);try{const f=we.selectedRepoId;if(!f)throw new Error("No repository selected");await Le.createTaskInRepo(f,e(u),e(d).length>0?e(d):void 0,e(R)||void 0,e(J)),i(u,""),i(d,[],!0),i(R,""),i(J,void 0),i(q,!1),m(!1),t.onCreated()}catch(f){i(x,f.message,!0)}finally{i(g,!1)}}}function K(){m(!1),i(u,""),i(d,[],!0),i(R,""),i(J,void 0),i(q,!1),i(x,null),i(k,"")}function Y(o){i(d,[...e(d),o],!0),i(k,"")}function se(o){i(d,e(d).filter(f=>f!==o),!0)}var I=ee(),F=$(I);Z(F,()=>Tt,(o,f)=>{f(o,{get open(){return m()},set open(y){m(y)},children:(y,H)=>{var ae=ee(),pe=$(ae);Z(pe,()=>kt,(ie,de)=>{de(ie,{class:"sm:max-w-[540px]",children:(ce,xe)=>{var ne=pa(),ve=$(ne);Z(ve,()=>yt,(l,w)=>{w(l,{children:(M,E)=>{var z=ra(),b=$(z);Z(b,()=>wt,(D,V)=>{V(D,{class:"flex items-center gap-2",children:(U,re)=>{var ue=aa(),be=$(ue),Ne=r(be);Xe(Ne,{class:"w-4 h-4 text-primary"}),a(be),j(),n(U,ue)},$$slots:{default:!0}})});var P=s(b,2);Z(P,()=>$t,(D,V)=>{V(D,{children:(U,re)=>{j();var ue=qe("Describe the task you want the AI agent to complete. Be specific for best results.");n(U,ue)},$$slots:{default:!0}})}),n(M,z)},$$slots:{default:!0}})});var _=s(ve,2),c=r(_),C=r(c),p=r(C),T=r(p);Ft(T,{class:"w-4 h-4 text-muted-foreground"}),j(),a(p);var h=s(p,2);Oe(h),gt(h,!0),a(C);var A=s(C,2),X=r(A),ge=r(X);Mt(ge,{class:"w-4 h-4 text-muted-foreground"}),j(2),a(X);var oe=s(X,2);Oe(oe),a(A);var le=s(A,2),me=r(le),tt=r(me);Ie(tt,{class:"w-4 h-4 text-muted-foreground"}),j(2),a(me);var Me=s(me,2);{var at=l=>{var w=na();$e(w,21,()=>e(d),We,(M,E)=>{zt(M,{variant:"secondary",class:"gap-1 pl-2 pr-1 py-1 max-w-48",children:(z,b)=>{var P=sa(),D=$(P),V=r(D,!0);a(D);var U=s(D,2);U.__click=()=>se(e(E));var re=r(U);He(re,{class:"w-3 h-3"}),a(U),L(()=>B(V,e(E))),n(z,P)},$$slots:{default:!0}})}),a(w),n(l,w)};S(Me,l=>{e(d).length>0&&l(at)})}var Se=s(Me,2),ze=r(Se);Qe(ze,{class:"w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground"});var De=s(ze,2);Je(De),a(Se);var Ge=s(Se,2),rt=r(Ge);{var st=l=>{var w=ee(),M=$(w);$e(M,17,()=>e(te),E=>E.id,(E,z)=>{var b=oa();b.__click=()=>Y(e(z).id);var P=r(b),D=r(P),V=r(D,!0);a(D),a(P);var U=s(P,2),re=r(U,!0);a(U),a(b),L(()=>{B(V,e(z).id),B(re,e(z).description)}),n(E,b)}),n(l,w)},nt=l=>{var w=ee(),M=$(w);{var E=b=>{var P=la(),D=r(P);Qe(D,{class:"w-5 h-5 mx-auto mb-2 opacity-40"}),j(),a(P),n(b,P)},z=b=>{var P=ia(),D=r(P);Ie(D,{class:"w-5 h-5 mx-auto mb-2 opacity-40"}),j(),a(P),n(b,P)};S(M,b=>{e(k)?b(E):b(z,!1)},!0)}n(l,w)};S(rt,l=>{e(te).length>0?l(st):l(nt,!1)})}a(Ge),a(le);var Re=s(le,2),he=r(Re);he.__click=()=>i(q,!e(q));var ot=r(he);{var lt=l=>{bt(l,{class:"w-4 h-4"})},it=l=>{Ye(l,{class:"w-4 h-4"})};S(ot,l=>{e(q)?l(lt):l(it,!1)})}j(),a(he);var dt=s(he,2);{var ct=l=>{var w=da(),M=r(w),E=r(M),z=r(E);et(z,{class:"w-4 h-4 text-muted-foreground"}),j(2),a(E);var b=s(E,2);Je(b),a(M),a(w),L(()=>b.disabled=e(g)),ye(b,()=>e(J),P=>i(J,P)),n(l,w)};S(dt,l=>{e(q)&&l(ct)})}a(Re);var vt=s(Re,2);{var ut=l=>{var w=ca(),M=r(w);He(M,{class:"w-4 h-4 flex-shrink-0"});var E=s(M);a(w),L(()=>B(E,` ${e(x)??""}`)),n(l,w)};S(vt,l=>{e(x)&&l(ut)})}a(c);var ft=s(c,2);Z(ft,()=>Ct,(l,w)=>{w(l,{class:"gap-2",children:(M,E)=>{var z=fa(),b=$(z);Ce(b,{type:"button",variant:"outline",onclick:K,get disabled(){return e(g)},children:(D,V)=>{j();var U=qe("Cancel");n(D,U)},$$slots:{default:!0}});var P=s(b,2);{let D=W(()=>e(g)||!e(u).trim());Ce(P,{type:"submit",get disabled(){return e(D)},class:"gap-2",children:(V,U)=>{var re=ee(),ue=$(re);{var be=fe=>{var _e=va(),Be=$(_e);ht(Be,{class:"w-4 h-4 animate-spin"}),j(),n(fe,_e)},Ne=fe=>{var _e=ua(),Be=$(_e);Xe(Be,{class:"w-4 h-4"}),j(),n(fe,_e)};S(ue,fe=>{e(g)?fe(be):fe(Ne,!1)})}n(V,re)},$$slots:{default:!0}})}n(M,z)},$$slots:{default:!0}})}),a(_),L(()=>{h.disabled=e(g),oe.disabled=e(g),De.disabled=e(g)}),pt("submit",_,Q),ye(h,()=>e(u),l=>i(u,l)),ye(oe,()=>e(R),l=>i(R,l)),ye(De,()=>e(k),l=>i(k,l)),n(ce,ne)},$$slots:{default:!0}})}),n(y,ae)},$$slots:{default:!0}})}),n(G,I),Pe()}Ke(["click"]);var ma=v('<span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-500/10 text-blue-600 dark:text-blue-400"> </span>'),_a=v('<div class="flex items-center gap-2"><span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-primary/10 text-primary"> </span> <!></div>'),xa=v('<div class="flex items-center gap-2 text-sm text-green-600 dark:text-green-400 bg-green-500/10 px-3 py-1.5 rounded-md"><!> <span> </span></div>'),ha=v("<!> ",1),ba=v("<!> New Task",1),ka=v('<div class="bg-destructive/10 text-destructive p-4 rounded-lg mb-4 flex items-center gap-3 border border-destructive/20"><!> <span> </span></div>'),ya=v('<header class="flex justify-between items-center mb-6"><div><div class="flex items-center gap-3"><h1 class="text-2xl font-bold">Dashboard</h1> <!></div> <p class="text-muted-foreground text-sm mt-1">Manage and monitor your AI-powered tasks</p></div> <div class="flex items-center gap-3"><!> <!> <!></div></header> <!> <div class="grid grid-cols-6 gap-4 flex-1 min-h-0"></div>',1),wa=v('<div class="flex-1 flex flex-col items-center justify-center text-center"><div class="w-16 h-16 rounded-2xl bg-muted flex items-center justify-center mb-4"><!></div> <h2 class="text-xl font-semibold mb-2">No repository selected</h2> <p class="text-muted-foreground text-sm max-w-md">Add a GitHub repository to get started. Tasks are scoped to individual repositories.</p></div>'),$a=v('<div class="p-6 h-full flex flex-col"><!></div> <!>',1);function La(G,t){Te(t,!0);let m=O(!1),u=O(!1),g=O(null),x=null;function d(o){if(x&&(x.close(),x=null),!o){N.setTasks([]),N.loading=!1;return}N.loading=!0;const f=new EventSource(Le.eventsURL(o));f.addEventListener("init",y=>{N.setTasks(JSON.parse(y.data)),N.loading=!1,N.error=null}),f.addEventListener("task_created",y=>{const H=JSON.parse(y.data);N.addTask(H.task)}),f.addEventListener("task_updated",y=>{const H=JSON.parse(y.data);N.updateTask(H.task)}),f.onerror=()=>{N.error="Connection lost. Reconnecting..."},x=f}mt(()=>{const o=we.selectedRepoId;return d(o),()=>{x&&(x.close(),x=null)}});async function k(){const o=we.selectedRepoId;if(o){i(u,!0),i(g,null);try{i(g,await Le.syncRepoTasks(o),!0),setTimeout(()=>{i(g,null)},3e3)}catch(f){N.error=f.message}finally{i(u,!1)}}}const R=W(()=>N.tasks.length),J=W(()=>N.tasks.filter(o=>["pending","running","review"].includes(o.status)).length),q=W(()=>!!we.selectedRepoId);var te=$a(),Q=$(te),K=r(Q);{var Y=o=>{var f=ya(),y=$(f),H=r(y),ae=r(H),pe=s(r(ae),2);{var ie=p=>{var T=_a(),h=r(T),A=r(h);a(h);var X=s(h,2);{var ge=oe=>{var le=ma(),me=r(le);a(le),L(()=>B(me,`${e(J)??""} active`)),n(oe,le)};S(X,oe=>{e(J)>0&&oe(ge)})}a(T),L(()=>B(A,`${e(R)??""} total`)),n(p,T)};S(pe,p=>{e(R)>0&&p(ie)})}a(ae),j(2),a(H);var de=s(H,2),ce=r(de);{var xe=p=>{var T=xa(),h=r(T);Ot(h,{class:"w-4 h-4"});var A=s(h,2),X=r(A);a(A),a(T),L(()=>B(X,`Synced ${e(g).synced??""} PRs, ${e(g).merged??""} merged`)),n(p,T)};S(ce,p=>{e(g)&&p(xe)})}var ne=s(ce,2);Ce(ne,{variant:"outline",onclick:k,get disabled(){return e(u)},class:"gap-2",children:(p,T)=>{var h=ha(),A=$(h);{let ge=W(()=>e(u)?"animate-spin":"");Ze(A,{get class(){return`w-4 h-4 ${e(ge)??""}`}})}var X=s(A);L(()=>B(X,` ${e(u)?"Syncing...":"Sync PRs"}`)),n(p,h)},$$slots:{default:!0}});var ve=s(ne,2);Ce(ve,{onclick:()=>i(m,!0),class:"gap-2",children:(p,T)=>{var h=ba(),A=$(h);Pt(A,{class:"w-4 h-4"}),j(),n(p,h)},$$slots:{default:!0}}),a(de),a(y);var _=s(y,2);{var c=p=>{var T=ka(),h=r(T);qt(h,{class:"w-5 h-5 flex-shrink-0"});var A=s(h,2),X=r(A,!0);a(A),a(T),L(()=>B(X,N.error)),n(p,T)};S(_,p=>{N.error&&p(c)})}var C=s(_,2);$e(C,21,()=>N.statuses,We,(p,T)=>{ta(p,{get status(){return e(T)},get tasks(){return N.tasksByStatus[e(T)]}})}),a(C),n(o,f)},se=o=>{var f=wa(),y=r(f),H=r(y);St(H,{class:"w-8 h-8 text-muted-foreground"}),a(y),j(4),a(f),n(o,f)};S(K,o=>{e(q)?o(Y):o(se,!1)})}a(Q);var I=s(Q,2);{var F=o=>{ga(o,{onCreated:()=>{},get open(){return e(m)},set open(f){i(m,f,!0)}})};S(I,o=>{e(q)&&o(F)})}n(G,te),Pe()}export{La as component};
