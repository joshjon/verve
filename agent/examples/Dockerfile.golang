# Verve Agent with Go support
# Build: docker build -f agent/examples/Dockerfile.golang -t verve-agent:golang ./agent
# Use:   AGENT_IMAGE=verve-agent:golang make run-worker

FROM verve-agent:latest

USER root

# Install Go
ENV GO_VERSION=1.22.0
RUN curl -fsSL https://go.dev/dl/go${GO_VERSION}.linux-amd64.tar.gz | tar -C /usr/local -xzf -
ENV PATH="/usr/local/go/bin:${PATH}"

USER agent

# Set GOPATH for agent user
ENV GOPATH="/home/agent/go"
ENV PATH="${GOPATH}/bin:${PATH}"
